# FOREIGN KEY 제약 조건



### ON DELETE, ON UPDATE

FOREIGN KEY 제약 조건에 의해 참조되는 테이블에서 데이터의 수정이나 삭제가 발생하면, 참조하고 있는 테이블의 데이터도 같이 영향을 받습니다.

이때 참조하고 있는 테이블의 동작은 다음 키워드를 사용하여 FOREIGN KEY 제약 조건에서 미리 설정할 수 있습니다.

 

1. ON DELETE

2. ON UPDATE

 

참조되는 테이블의 값이 삭제될 경우의 동작은 ON DELETE 구문으로 설정할 수 있습니다.

또한, 참조되는 테이블의 값이 수정될 경우의 동작은 ON UPDATE 구문으로 설정할 수 있습니다.

 

이때 설정할 수 있는 동작은 다음과 같습니다.

 

1. CASCADE : 참조되는 테이블에서 데이터를 삭제하거나 수정하면, **참조하는 테이블에서도 삭제와 수정이 같이 이루어집니다.** 개체를 변경/삭제할 때 다른 개체가 변경/삭제할 개체를 참조하고 있을 경우 **함께 변경/삭제**됩니다.

2. SET NULL : 참조되는 테이블에서 데이터를 삭제하거나 수정하면, **참조하는 테이블의 데이터는 NULL로 변경됩니다. **개체를 변경/삭제할 때 다른 개체가 변경/삭제할 개체를 참조하고 있을 경우 **참조하고 있는 값은 NULL로 세팅**됩니다.

3. NO ACTION : 참조되는 테이블에서 데이터를 삭제하거나 수정해도, **참조하는 테이블의 데이터는 변경되지 않습니다.** 개체를 변경/삭제할 때 다른 개체가 변경/삭제할 개체를 참조하고 있을 경우 변경/삭제할 개체만 변경/삭제되고 **참조하고 있는 개체는 변동이 없습니다.**

4. SET DEFAULT : 참조되는 테이블에서 데이터를 삭제하거나 수정하면, **참조하는 테이블의 데이터는 필드의 기본값으로 설정됩니다.**

5. RESTRICT : 참조하는 테이블에 데이터가 남아 있으면, **참조되는 테이블의 데이터를 삭제하거나 수정할 수 없습니다.** 개체를 변경/삭제할 때 다른 개체가 변경/삭제할 개체를 참조하고 있을 경우 **변경/삭제가 취소**됩니다.(**제한**)





#### 참조

- http://www.tcpschool.com/mysql/mysql_constraint_foreignKey

- https://h5bak.tistory.com/125